let roundScore,scores,activePlayer,dice1,dice2,diceCls,dices,winingScore,gamePlaying,input,lastDice1Roll,lastDice2Roll;const strs=new Map;strs.set("alldice",`.dice , .dice2`),strs.set("allScores",`#score-0 , #score-1 , #current-0 , #current-1`),strs.set("curScore","#current-0 , #current-1"),strs.set("globalScores",`#score-0 , #score-1`),strs.set("players",`.player-0-panel , .player-1-panel`),strs.set("names",`#name-0 , #name-1`),init(),document.querySelector(".btn-roll").addEventListener("click",()=>{gamePlaying&&(dice1=Math.floor(6*Math.random())+1,dice2=Math.floor(6*Math.random())+1,dices.forEach(a=>{a.style.display="block",dices[0].src=`dice-${dice1}.png`,dices[1].src=`dice-${dice2}.png`}),6===dice1&&6===lastDice1Roll||6===dice2&&6===lastDice2Roll?(scores[activePlayer]=0,document.getElementById(`score-${activePlayer}`).textContent="0",dice1=0,dice2=0,nextPlayer()):1!==dice1&&1!==dice2?(roundScore+=dice1+dice2,document.querySelector(`#current-${activePlayer}`).textContent=roundScore):nextPlayer(),lastDice1Roll=dice1,lastDice2Roll=dice2)}),document.querySelector(".btn-hold").addEventListener("click",()=>{if(gamePlaying)if(scores[activePlayer]+=roundScore,document.querySelector(`#score-${activePlayer}`).textContent=scores[activePlayer],input=document.getElementById("finalPoints").value,winingScore=input?input:100,scores[activePlayer]>=winingScore){document.querySelector(`#name-${activePlayer}`).textContent=`Winner!`,Array.from(diceCls).forEach(a=>a.style.display="none");const a=document.querySelectorAll(`.player-${activePlayer}-panel`);a.forEach(a=>{a.classList.add("winner"),a.classList.remove("active")}),gamePlaying=!1}else nextPlayer()}),document.querySelector(".btn-new").addEventListener("click",init);function init(){roundScore=0,scores=[0,0],activePlayer=0,gamePlaying=!0,diceCls=document.querySelectorAll(strs.get("alldice")),dices=Array.from(diceCls),dices.forEach(a=>a.style.display="none");const a=document.querySelectorAll(strs.get("allScores"));Array.from(a).forEach(a=>a.textContent="0");const b=document.querySelectorAll(strs.get("names"));Array.from(b).forEach(()=>{b[0].textContent="Player 1",b[1].textContent="Player 2"});const c=document.querySelectorAll(strs.get("players"));Array.from(c).forEach(a=>{a.classList.remove("active"),a.classList.remove("winner"),c[0].classList.add("active")})}const nextPlayer=()=>{activePlayer=0===activePlayer?1:0,roundScore=0;const a=document.querySelectorAll(strs.get("curScore"));Array.from(a).forEach(a=>a.textContent="0");const b=document.querySelectorAll(strs.get("players"));Array.from(b).forEach(a=>a.classList.toggle("active")),Array.from(diceCls).forEach(a=>a.style.display="none")};console.log("\uD83D\uDC32");
