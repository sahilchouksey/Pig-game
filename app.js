let roundScore,scores,activePlayer,dice1,dice2,diceCls,dices,winingScore,gamePlaying,input,lastDice1Roll,lastDice2Roll;const strs=new Map;function init(){roundScore=0,scores=[0,0],activePlayer=0,gamePlaying=!0,diceCls=document.querySelectorAll(strs.get("alldice")),(dices=Array.from(diceCls)).forEach(e=>e.style.display="none");const e=document.querySelectorAll(strs.get("allScores"));Array.from(e).forEach(e=>e.textContent="0");const t=document.querySelectorAll(strs.get("names"));Array.from(t).forEach(e=>{t[0].textContent="Player 1",t[1].textContent="Player 2"});const r=document.querySelectorAll(strs.get("players"));Array.from(r).forEach(e=>{e.classList.remove("active"),e.classList.remove("winner"),r[0].classList.add("active")})}strs.set("alldice",".dice , .dice2"),strs.set("allScores","#score-0 , #score-1 , #current-0 , #current-1"),strs.set("curScore","#current-0 , #current-1"),strs.set("globalScores","#score-0 , #score-1"),strs.set("players",".player-0-panel , .player-1-panel"),strs.set("names","#name-0 , #name-1"),init(),document.querySelector(".btn-roll").addEventListener("click",()=>{gamePlaying&&(dice1=Math.floor(6*Math.random())+1,dice2=Math.floor(6*Math.random())+1,dices.forEach(e=>{e.style.display="block",dices[0].src=`dice-${dice1}.png`,dices[1].src=`dice-${dice2}.png`}),6===dice1&&6===lastDice1Roll||6===dice2&&6===lastDice2Roll?(scores[activePlayer]=0,document.getElementById(`score-${activePlayer}`).textContent="0",dice1=0,dice2=0,nextPlayer()):1!==dice1&&1!==dice2?(roundScore+=dice1+dice2,document.querySelector(`#current-${activePlayer}`).textContent=roundScore):nextPlayer(),lastDice1Roll=dice1,lastDice2Roll=dice2)}),document.querySelector(".btn-hold").addEventListener("click",()=>{if(gamePlaying)if(scores[activePlayer]+=roundScore,document.querySelector(`#score-${activePlayer}`).textContent=scores[activePlayer],input=document.getElementById("finalPoints").value,winingScore=input||100,scores[activePlayer]>=winingScore){document.querySelector(`#name-${activePlayer}`).textContent="Winner!",Array.from(diceCls).forEach(e=>e.style.display="none"),document.querySelectorAll(`.player-${activePlayer}-panel`).forEach(e=>{e.classList.add("winner"),e.classList.remove("active")}),gamePlaying=!1}else nextPlayer()}),document.querySelector(".btn-new").addEventListener("click",init);const nextPlayer=()=>{activePlayer=0===activePlayer?1:0,roundScore=0;const e=document.querySelectorAll(strs.get("curScore"));Array.from(e).forEach(e=>e.textContent="0");const t=document.querySelectorAll(strs.get("players"));Array.from(t).forEach(e=>e.classList.toggle("active")),Array.from(diceCls).forEach(e=>e.style.display="none")};console.log("ğŸ²");
